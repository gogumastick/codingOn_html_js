<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // promise 함수
        function promiseFunc(flag){ // flag란 true, false 값을 표현한다는 뜻
            // return new Promise ( (resolve, reject) ) =>{} ) 화살표함수
            return new Promise(function(resolve, reject){
                if(flag){
                    resolve('promise 상태는 fullfilled!, then으로 연결')
                } else {
                    reject('promise 상태는 reject!, catch으로 연결')
                }
            });
        }

        // 사용법
        promiseFunc(false)
        .then(function(message){
            console.log(message);
        })
        .catch(function(err){
            console.log(err);
        })

        // 마트예제
        function goMart(){
            console.log('마트에서 어떤 음료를 살지 고민한다');
        }
        // promise 함수 생성
        function pickDrink() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log('고민 끝');
                    product = '꼬카';
                    price = 2000;
                    resolve();
                }, 3000)
            })
        }
        function pay() {
            console.log(`상품명 : ${product}, 가격 : ${price}`);
        }

        let product;
        let price;
        goMart();
        pickDrink().then(pay);

        // 상단 코드와 동일 값
        pickDrink().then(function(){
            console.log(`상품명 : ${product}, 가격 : ${price}`);
        });
        async function exec() {
            goMart();
            await pickDrink();
            pay();
        }
        // const exec = async () => {} //화살표함수
        exec();
        
        



    </script>

    
</body>
</html>